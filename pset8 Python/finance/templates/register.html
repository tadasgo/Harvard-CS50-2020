{% extends "layout.html" %}

{% block title %}
    Register
{% endblock %}

{% block main %}
    <div class="alert alert-info" role="alert">
        Password must contain atleast 6 alphanumeric characters
    </div>
    <form action="/register" method="post">
        <div class="form-group">
            <input id="username" autocomplete="off" autofocus class="form-control" name="username" placeholder="Username" type="text" required>
        </div>
        <div class="form-group">
            <input id="pass" class="form-control" name="pass" placeholder="Password" type="password" required>
        </div>
        <div class="form-group">
            <input id='confirm-pass' class="form-control" name="confirm-pass" placeholder="Confirm Password" type="password" required>
        </div>
        <button id="submit" class="btn btn-primary" type="submit">Submit</button>
    </form>

    <script>
        // disable submit button if password is not >= 6 alphanumeric characters
        let submit = document.querySelector('#submit')
        const pass = document.querySelector('#pass')
        submit.disabled = true
        pass.onkeyup = () => {
            // regex allow only alphanumeric or alpha or numeric passwords
            if (pass.value.length > 5 && pass.value.match(/^([0-9]|[a-z])+([0-9a-z]+)$/i)) {
                submit.disabled = false
            } else {
                submit.disabled = true
            }
        }
    </script>
{% endblock %}